<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mayyil Rota Generator</title>
  <link rel="stylesheet" href="style.css" />
  <!-- Include jsPDF and html2canvas from CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</head>
<body>
  <h1>Mayyil Rota Generator</h1>

  <div id="input-section">
    <h2>Enter 3 Chefs and Select Their Days Off</h2>
    <p>Select one or more days off (hold Ctrl/Cmd to select multiple).</p>
    <div id="chef-inputs">
      <!-- Chef 1 -->
      <div>
        <input type="text" id="chef-name-0" placeholder="Chef #1">
        <label for="day-off-0">Days Off:</label>
        <select id="day-off-0" multiple>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
      </div>

      <!-- Chef 2 -->
      <div>
        <input type="text" id="chef-name-1" placeholder="Chef #2">
        <label for="day-off-1">Days Off:</label>
        <select id="day-off-1" multiple>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
      </div>

      <!-- Chef 3 -->
      <div>
        <input type="text" id="chef-name-2" placeholder="Chef #3">
        <label for="day-off-2">Days Off:</label>
        <select id="day-off-2" multiple>
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
          <option value="Saturday">Saturday</option>
          <option value="Sunday">Sunday</option>
        </select>
      </div>
    </div>

    <button onclick="generateRota()">Generate Rota</button>
  </div>

  <h2>Generated Weekly Rota</h2>
  <!-- Wrap the rota table in a container for PDF capture -->
  <div id="rota-output">
    <table id="rota-table">
      <thead>
        <tr>
          <th>Chef</th>
          <th>Monday</th>
          <th>Tuesday</th>
          <th>Wednesday</th>
          <th>Thursday</th>
          <th>Friday</th>
          <th>Saturday</th>
          <th>Sunday</th>
        </tr>
      </thead>
      <tbody>
        <!-- Rota data will be inserted here -->
      </tbody>
    </table>
    <!-- New "Add row" button to allow manual editing -->
    <button onclick="addRow()">Add row</button>
    <!-- PDF download button -->
    <button onclick="downloadRotaPDF()">Download Rota as PDF</button>
  </div>

  <!-- Weekly Hours Summary -->
  <div id="weekly-hours"></div>

  <script src="script.js"></script>
</body>
</html>
